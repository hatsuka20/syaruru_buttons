<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>しゃるるぼたん</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="button.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
    <h1>しゃるるぼたん</h1>
    <p>ボタンを押すとしゃるさんの声を聴くことができます。</p>

    <div class="buttons"></div>

    <script>
        $.when($.getJSON("buttons.json", function (data) {
            for (var i = 0; i < data.length; i++) {
                $(".buttons").append("<button class=\"audio-button\"><audio src=\"" + data[i].path + "\" data-name=\"" + data[i].name + "\"></audio></button>");
            }
        })).done(function () {
            var playing = false;

            $("div.buttons .audio-button").each(function () {
                var $button = $(this);
                var $audio = $button.find("audio");

                $($("<span>").text($audio.data("name"))).insertBefore($audio);
            });

            $("div.buttons .audio-button").click(function () {
                var $button = $(this);
                var audio = $button.find("audio")[0];
                audio.play();
            });
        });
    </script>

    <p>
        しゃるる<br>
        Twitch:<a href="https://www.twitch.tv/syaruru3/">https://www.twitch.tv/syaruru3/</a><br>
        Twitter:<a href="https://twitter.com/syaruruuu">https://twitter.com/syaruruuu</a><br>
    </p>

</body>

</html>
