<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>しゃるるぼたん</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="button.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
    <main>
        <h1>しゃるるぼたん</h1>

        <div class="buttons"></div>

        <script>
            $(document).ready(function () {
                var playing = false;

                $(".audio-button").each(function () {
                    var $button = $(this);
                    var $audio = $button.find("audio");

                    $($("<span>").text($audio.data("name"))).insertBefore($audio);
                });

                $(".audio-button").click(function () {
                    var $button = $(this);
                    var audio = $button.find("audio")[0];
                    audio.play();
                });
            });

            // $(function () {
            //     $.getJSON("buttons.json", function (data) {
            //         for (var i = 0; i < data.length; i++) {
            //             $(".buttons").append("<button class=\"fa audio-button\"><audio src=\"" + data[i].path + "\" data-name=\"" + data[i].name + "\"></audio></button>");
            //         }
            //     });
            // });
        </script>

        <button class="audio-button">
            <audio src="sounds/test1.mp3" data-name="ぼたん1"></audio>
        </button>
        <button class="audio-button">
            <audio src="sounds/test2.mp3" data-name="ぼたん2"></audio>
        </button>
        <button class="audio-button">
            <audio src="sounds/test3.mp3" data-name="ぼたん3"></audio>
        </button>

    </main>

</body>

</html>
